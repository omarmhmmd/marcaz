(self.webpackChunkgatsby_starter_default=self.webpackChunkgatsby_starter_default||[]).push([[351],{3349:function(e,t,r){"use strict";function n(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.d(t,{Z:function(){return n}})},2137:function(e,t,r){"use strict";function n(e,t,r,n,o,a,i){try{var s=e[a](i),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,o)}function o(e){return function(){var t=this,r=arguments;return new Promise((function(o,a){var i=e.apply(t,r);function s(e){n(i,o,a,s,c,"next",e)}function c(e){n(i,o,a,s,c,"throw",e)}s(void 0)}))}}r.d(t,{Z:function(){return o}})},6610:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,{Z:function(){return n}})},5991:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,{Z:function(){return o}})},6156:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Z:function(){return n}})},6213:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(7608);function o(e,t,r){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,n.Z)(e)););return e}(e,t);if(o){var a=Object.getOwnPropertyDescriptor(o,t);return a.get?a.get.call(r):a.value}})(e,t,r||e)}},7608:function(e,t,r){"use strict";function n(e){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}r.d(t,{Z:function(){return n}})},379:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(4665);function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,n.Z)(e,t)}},6070:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(8),o=r(3349);function a(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?(0,o.Z)(e):t}},4699:function(e,t,r){"use strict";r.d(t,{Z:function(){return o}});var n=r(2961);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(c){o=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}return r}}(e,t)||(0,n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},7757:function(e,t,r){e.exports=r(5666)},6291:function(e,t){"use strict";var r=/^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;t.validate=function(e){if(!e)return!1;if(e.length>254)return!1;if(!r.test(e))return!1;var t=e.split("@");return!(t[0].length>64)&&!t[1].split(".").some((function(e){return e.length>63}))}},9077:function(e,t,r){var n=r(8640)("jsonp");e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={});t||(t={});var i,s,c=t.prefix||"__jp",u=t.name||c+o++,l=t.param||"callback",p=null!=t.timeout?t.timeout:6e4,d=encodeURIComponent,h=document.getElementsByTagName("script")[0]||document.head;p&&(s=setTimeout((function(){f(),r&&r(new Error("Timeout"))}),p));function f(){i.parentNode&&i.parentNode.removeChild(i),window[u]=a,s&&clearTimeout(s)}return window[u]=function(e){n("jsonp got",e),f(),r&&r(null,e)},e=(e+=(~e.indexOf("?")?"&":"?")+l+"="+d(u)).replace("?&","?"),n('jsonp req "%s"',e),(i=document.createElement("script")).src=e,h.parentNode.insertBefore(i,h),function(){window[u]&&f()}};var o=0;function a(){}},8640:function(e,t,r){function n(){var e;try{e=t.storage.debug}catch(r){}return!e&&"undefined"!=typeof process&&"env"in process&&(e={}.DEBUG),e}(t=e.exports=r(9196)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var r=this.useColors;if(e[0]=(r?"%c":"")+this.namespace+(r?" %c":" ")+e[0]+(r?"%c ":" ")+"+"+t.humanize(this.diff),!r)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var o=0,a=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(o++,"%c"===e&&(a=o))})),e.splice(a,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(r){}},t.load=n,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}},t.enable(n())},9196:function(e,t,r){var n;function o(e){function r(){if(r.enabled){var e=r,o=+new Date,a=o-(n||o);e.diff=a,e.prev=n,e.curr=o,n=o;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var c=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,(function(r,n){if("%%"===r)return r;c++;var o=t.formatters[n];if("function"==typeof o){var a=i[c];r=o.call(e,a),i.splice(c,1),c--}return r})),t.formatArgs.call(e,i);var u=r.log||t.log||console.log.bind(console);u.apply(e,i)}}return r.namespace=e,r.enabled=t.enabled(e),r.useColors=t.useColors(),r.color=function(e){var r,n=0;for(r in e)n=(n<<5)-n+e.charCodeAt(r),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(r),r}(t=e.exports=o.debug=o.default=o).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var r=("string"==typeof e?e:"").split(/[\s,]+/),n=r.length,o=0;o<n;o++)r[o]&&("-"===(e=r[o].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(876),t.names=[],t.skips=[],t.formatters={}},876:function(e){var t=1e3,r=60*t,n=60*r,o=24*n,a=365.25*o;function i(e,t,r){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+r:Math.ceil(e/t)+" "+r+"s"}e.exports=function(e,s){s=s||{};var c,u=typeof e;if("string"===u&&e.length>0)return function(e){if((e=String(e)).length>100)return;var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!i)return;var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*a;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===u&&!1===isNaN(e))return s.long?i(c=e,o,"day")||i(c,n,"hour")||i(c,r,"minute")||i(c,t,"second")||c+" ms":function(e){if(e>=o)return Math.round(e/o)+"d";if(e>=n)return Math.round(e/n)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=t)return Math.round(e/t)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},1202:function(e,t,r){"use strict";t.Z=void 0;var n,o=(n=r(9077))&&n.__esModule?n:{default:n},a=r(6291);var i=function(e){var t=e.url,r=e.timeout;return new Promise((function(e,n){return(0,o.default)(t,{param:"c",timeout:r},(function(t,r){t&&n(t),r&&e(r)}))}))},s=function(e){var t="";for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n="group["===r.substring(0,6)?r:r.toUpperCase();t=t.concat("&".concat(n,"=").concat(e[r]))}return t},c=function(e,t,r){var n=(0,a.validate)(e),o=encodeURIComponent(e);if(!n)return Promise.resolve({result:"error",msg:"The email you entered is not valid."});var c="https://marcaz.us1.list-manage.com/subscribe/post?u=63423ab27d48804a6cf0455a1&amp;id=4164293361",u=3500;arguments.length<3&&"string"==typeof t?c=t:"string"==typeof r&&(c=r),c=c.replace(/\/post/g,"/post-json");var l="&EMAIL=".concat(o).concat(s(t)),p="".concat(c).concat(l);return i({url:p,timeout:u})};t.Z=c},5798:function(e,t,r){"use strict";r.d(t,{Z:function(){return Z}});var n=r(2122),o=r(7294),a=r(7548),i=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,a.Z)((function(e){return i.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),c=r(8861),u=r(4660),l=r(4418),p=s,d=function(e){return"theme"!==e},h=function(e){return"string"==typeof e&&e.charCodeAt(0)>96?p:d},f=function(e,t,r){var n;if(t){var o=t.shouldForwardProp;n=e.__emotion_forwardProp&&o?function(t){return e.__emotion_forwardProp(t)&&o(t)}:o}return"function"!=typeof n&&r&&(n=e.__emotion_forwardProp),n},m=function e(t,r){var a,i,s=t.__emotion_real===t,p=s&&t.__emotion_base||t;void 0!==r&&(a=r.label,i=r.target);var d=f(t,r,s),m=d||h(p),g=!m("as");return function(){var v=arguments,y=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==a&&y.push("label:"+a+";"),null==v[0]||void 0===v[0].raw)y.push.apply(y,v);else{0,y.push(v[0][0]);for(var b=v.length,w=1;w<b;w++)y.push(v[w],v[0][w])}var x=(0,c.w)((function(e,t,r){var n=g&&e.as||p,a="",s=[],f=e;if(null==e.theme){for(var v in f={},e)f[v]=e[v];f.theme=(0,o.useContext)(c.T)}"string"==typeof e.className?a=(0,u.f)(t.registered,s,e.className):null!=e.className&&(a=e.className+" ");var b=(0,l.O)(y.concat(s),t.registered,f);(0,u.M)(t,b,"string"==typeof n);a+=t.key+"-"+b.name,void 0!==i&&(a+=" "+i);var w=g&&void 0===d?h(n):m,x={};for(var T in e)g&&"as"===T||w(T)&&(x[T]=e[T]);return x.className=a,x.ref=r,(0,o.createElement)(n,x)}));return x.displayName=void 0!==a?a:"Styled("+("string"==typeof p?p:p.displayName||p.name||"Component")+")",x.defaultProps=t.defaultProps,x.__emotion_real=x,x.__emotion_base=p,x.__emotion_styles=y,x.__emotion_forwardProp=d,Object.defineProperty(x,"toString",{value:function(){return"."+i}}),x.withComponent=function(t,o){return e(t,(0,n.Z)({},r,{},o,{shouldForwardProp:f(x,o,!0)})).apply(void 0,y)},x}},g=r(1788),v=r(3935),y=r(3456),b=function(){function e(e){y.aNw.call(this,e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(e){return new a(e)})),this.register((function(e){return new s(e)})),this.register((function(e){return new c(e)})),this.register((function(e){return new i(e)})),this.register((function(e){return new n(e)})),this.register((function(e){return new u(e)}))}function t(){var e={};return{get:function(t){return e[t]},add:function(t,r){e[t]=r},remove:function(t){delete e[t]},removeAll:function(){e={}}}}e.prototype=Object.assign(Object.create(y.aNw.prototype),{constructor:e,load:function(e,t,r,n){var o,a=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:y.Zp0.extractUrlBase(e),this.manager.itemStart(e);var i=function(t){n?n(t):console.error(t),a.manager.itemError(e),a.manager.itemEnd(e)},s=new y.hH6(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,(function(r){try{a.parse(r,o,(function(r){t(r),a.manager.itemEnd(e)}),i)}catch(n){i(n)}}),r,i)},setDRACOLoader:function(e){return this.dracoLoader=e,this},setDDSLoader:function(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')},setKTX2Loader:function(e){return this.ktx2Loader=e,this},setMeshoptDecoder:function(e){return this.meshoptDecoder=e,this},register:function(e){return-1===this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.push(e),this},unregister:function(e){return-1!==this.pluginCallbacks.indexOf(e)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this},parse:function(e,t,n,a){var i,s={},c={};if("string"==typeof e)i=e;else if(y.Zp0.decodeText(new Uint8Array(e,0,4))===l){try{s[r.KHR_BINARY_GLTF]=new h(e)}catch(T){return void(a&&a(T))}i=s[r.KHR_BINARY_GLTF].content}else i=y.Zp0.decodeText(new Uint8Array(e));var u=JSON.parse(i);if(void 0===u.asset||u.asset.version[0]<2)a&&a(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var p=new B(u,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});p.fileLoader.setRequestHeader(this.requestHeader);for(var d=0;d<this.pluginCallbacks.length;d++){var g=this.pluginCallbacks[d](p);c[g.name]=g,s[g.name]=!0}if(u.extensionsUsed)for(d=0;d<u.extensionsUsed.length;++d){var w=u.extensionsUsed[d],x=u.extensionsRequired||[];switch(w){case r.KHR_MATERIALS_UNLIT:s[w]=new o;break;case r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:s[w]=new v;break;case r.KHR_DRACO_MESH_COMPRESSION:s[w]=new f(u,this.dracoLoader);break;case r.KHR_TEXTURE_TRANSFORM:s[w]=new m;break;case r.KHR_MESH_QUANTIZATION:s[w]=new b;break;default:x.indexOf(w)>=0&&void 0===c[w]&&console.warn('THREE.GLTFLoader: Unknown extension "'+w+'".')}}p.setExtensions(s),p.setPlugins(c),p.parse(n,a)}}});var r={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};function n(e){this.parser=e,this.name=r.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function o(){this.name=r.KHR_MATERIALS_UNLIT}function a(e){this.parser=e,this.name=r.KHR_MATERIALS_CLEARCOAT}function i(e){this.parser=e,this.name=r.KHR_MATERIALS_TRANSMISSION}function s(e){this.parser=e,this.name=r.KHR_TEXTURE_BASISU}function c(e){this.parser=e,this.name=r.EXT_TEXTURE_WEBP,this.isSupported=null}function u(e){this.name=r.EXT_MESHOPT_COMPRESSION,this.parser=e}n.prototype._markDefs=function(){for(var e=this.parser,t=this.parser.json.nodes||[],r=0,n=t.length;r<n;r++){var o=t[r];o.extensions&&o.extensions[this.name]&&void 0!==o.extensions[this.name].light&&e._addNodeRef(this.cache,o.extensions[this.name].light)}},n.prototype._loadLight=function(e){var t=this.parser,r="light:"+e,n=t.cache.get(r);if(n)return n;var o,a=t.json,i=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e],s=new y.Ilk(16777215);void 0!==i.color&&s.fromArray(i.color);var c=void 0!==i.range?i.range:0;switch(i.type){case"directional":(o=new y.Ox3(s)).target.position.set(0,0,-1),o.add(o.target);break;case"point":(o=new y.cek(s)).distance=c;break;case"spot":(o=new y.PMe(s)).distance=c,i.spot=i.spot||{},i.spot.innerConeAngle=void 0!==i.spot.innerConeAngle?i.spot.innerConeAngle:0,i.spot.outerConeAngle=void 0!==i.spot.outerConeAngle?i.spot.outerConeAngle:Math.PI/4,o.angle=i.spot.outerConeAngle,o.penumbra=1-i.spot.innerConeAngle/i.spot.outerConeAngle,o.target.position.set(0,0,-1),o.add(o.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+i.type)}return o.position.set(0,0,0),o.decay=2,void 0!==i.intensity&&(o.intensity=i.intensity),o.name=t.createUniqueName(i.name||"light_"+e),n=Promise.resolve(o),t.cache.add(r,n),n},n.prototype.createNodeAttachment=function(e){var t=this,r=this.parser,n=r.json.nodes[e],o=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===o?null:this._loadLight(o).then((function(e){return r._getNodeRef(t.cache,o,e)}))},o.prototype.getMaterialType=function(){return y.vBJ},o.prototype.extendParams=function(e,t,r){var n=[];e.color=new y.Ilk(1,1,1),e.opacity=1;var o=t.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var a=o.baseColorFactor;e.color.fromArray(a),e.opacity=a[3]}void 0!==o.baseColorTexture&&n.push(r.assignTexture(e,"map",o.baseColorTexture))}return Promise.all(n)},a.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?y.EJi:null},a.prototype.extendMaterialParams=function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var o=[],a=n.extensions[this.name];if(void 0!==a.clearcoatFactor&&(t.clearcoat=a.clearcoatFactor),void 0!==a.clearcoatTexture&&o.push(r.assignTexture(t,"clearcoatMap",a.clearcoatTexture)),void 0!==a.clearcoatRoughnessFactor&&(t.clearcoatRoughness=a.clearcoatRoughnessFactor),void 0!==a.clearcoatRoughnessTexture&&o.push(r.assignTexture(t,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),void 0!==a.clearcoatNormalTexture&&(o.push(r.assignTexture(t,"clearcoatNormalMap",a.clearcoatNormalTexture)),void 0!==a.clearcoatNormalTexture.scale)){var i=a.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new y.FM8(i,-i)}return Promise.all(o)},i.prototype.getMaterialType=function(e){var t=this.parser.json.materials[e];return t.extensions&&t.extensions[this.name]?y.EJi:null},i.prototype.extendMaterialParams=function(e,t){var r=this.parser,n=r.json.materials[e];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var o=[],a=n.extensions[this.name];return void 0!==a.transmissionFactor&&(t.transmission=a.transmissionFactor),void 0!==a.transmissionTexture&&o.push(r.assignTexture(t,"transmissionMap",a.transmissionTexture)),Promise.all(o)},s.prototype.loadTexture=function(e){var t=this.parser,r=t.json,n=r.textures[e];if(!n.extensions||!n.extensions[this.name])return null;var o=n.extensions[this.name],a=r.images[o.source],i=t.options.ktx2Loader;if(!i){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,a,i)},c.prototype.loadTexture=function(e){var t=this.name,r=this.parser,n=r.json,o=n.textures[e];if(!o.extensions||!o.extensions[t])return null;var a=o.extensions[t],i=n.images[a.source],s=r.textureLoader;if(i.uri){var c=r.options.manager.getHandler(i.uri);null!==c&&(s=c)}return this.detectSupport().then((function(o){if(o)return r.loadTextureImage(e,i,s);if(n.extensionsRequired&&n.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return r.loadTexture(e)}))},c.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise((function(e){var t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(1===t.height)}}))),this.isSupported},u.prototype.loadBufferView=function(e){var t=this.parser.json,r=t.bufferViews[e];if(r.extensions&&r.extensions[this.name]){var n=r.extensions[this.name],o=this.parser.getDependency("buffer",n.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([o,a.ready]).then((function(e){var t=n.byteOffset||0,r=n.byteLength||0,o=n.count,i=n.byteStride,s=new ArrayBuffer(o*i),c=new Uint8Array(e[0],t,r);return a.decodeGltfBuffer(new Uint8Array(s),o,i,c,n.mode,n.filter),s}))}return null};var l="glTF",p=1313821514,d=5130562;function h(e){this.name=r.KHR_BINARY_GLTF,this.content=null,this.body=null;var t=new DataView(e,0,12);if(this.header={magic:y.Zp0.decodeText(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==l)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var n=this.header.length-12,o=new DataView(e,12),a=0;a<n;){var i=o.getUint32(a,!0);a+=4;var s=o.getUint32(a,!0);if(a+=4,s===p){var c=new Uint8Array(e,12+a,i);this.content=y.Zp0.decodeText(c)}else if(s===d){var u=12+a;this.body=e.slice(u,u+i)}a+=i}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function f(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=r.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}function m(){this.name=r.KHR_TEXTURE_TRANSFORM}function g(e){y.Wid.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var t=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),r=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),n=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),o=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),a=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),i={specular:{value:(new y.Ilk).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=i,this.onBeforeCompile=function(e){for(var s in i)e.uniforms[s]=i[s];e.fragmentShader=e.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",t).replace("#include <metalnessmap_pars_fragment>",r).replace("#include <roughnessmap_fragment>",n).replace("#include <metalnessmap_fragment>",o).replace("#include <lights_physical_fragment>",a)},Object.defineProperties(this,{specular:{get:function(){return i.specular.value},set:function(e){i.specular.value=e}},specularMap:{get:function(){return i.specularMap.value},set:function(e){i.specularMap.value=e,e?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return i.glossiness.value},set:function(e){i.glossiness.value=e}},glossinessMap:{get:function(){return i.glossinessMap.value},set:function(e){i.glossinessMap.value=e,e?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(e)}function v(){return{name:r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return g},extendParams:function(e,t,r){var n=t.extensions[this.name];e.color=new y.Ilk(1,1,1),e.opacity=1;var o=[];if(Array.isArray(n.diffuseFactor)){var a=n.diffuseFactor;e.color.fromArray(a),e.opacity=a[3]}if(void 0!==n.diffuseTexture&&o.push(r.assignTexture(e,"map",n.diffuseTexture)),e.emissive=new y.Ilk(0,0,0),e.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,e.specular=new y.Ilk(1,1,1),Array.isArray(n.specularFactor)&&e.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var i=n.specularGlossinessTexture;o.push(r.assignTexture(e,"glossinessMap",i)),o.push(r.assignTexture(e,"specularMap",i))}return Promise.all(o)},createMaterial:function(e){var t=new g(e);return t.fog=!0,t.color=e.color,t.map=void 0===e.map?null:e.map,t.lightMap=null,t.lightMapIntensity=1,t.aoMap=void 0===e.aoMap?null:e.aoMap,t.aoMapIntensity=1,t.emissive=e.emissive,t.emissiveIntensity=1,t.emissiveMap=void 0===e.emissiveMap?null:e.emissiveMap,t.bumpMap=void 0===e.bumpMap?null:e.bumpMap,t.bumpScale=1,t.normalMap=void 0===e.normalMap?null:e.normalMap,t.normalMapType=y.IOt,e.normalScale&&(t.normalScale=e.normalScale),t.displacementMap=null,t.displacementScale=1,t.displacementBias=0,t.specularMap=void 0===e.specularMap?null:e.specularMap,t.specular=e.specular,t.glossinessMap=void 0===e.glossinessMap?null:e.glossinessMap,t.glossiness=e.glossiness,t.alphaMap=null,t.envMap=void 0===e.envMap?null:e.envMap,t.envMapIntensity=1,t.refractionRatio=.98,t}}}function b(){this.name=r.KHR_MESH_QUANTIZATION}function w(e,t,r,n){y._C8.call(this,e,t,r,n)}f.prototype.decodePrimitive=function(e,t){var r=this.json,n=this.dracoLoader,o=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,i={},s={},c={};for(var u in a){var l=k[u]||u.toLowerCase();i[l]=a[u]}for(u in e.attributes){l=k[u]||u.toLowerCase();if(void 0!==a[u]){var p=r.accessors[e.attributes[u]],d=M[p.componentType];c[l]=d,s[l]=!0===p.normalized}}return t.getDependency("bufferView",o).then((function(e){return new Promise((function(t){n.decodeDracoFile(e,(function(e){for(var r in e.attributes){var n=e.attributes[r],o=s[r];void 0!==o&&(n.normalized=o)}t(e)}),i,c)}))}))},m.prototype.extendTexture=function(e,t){return e=e.clone(),void 0!==t.offset&&e.offset.fromArray(t.offset),void 0!==t.rotation&&(e.rotation=t.rotation),void 0!==t.scale&&e.repeat.fromArray(t.scale),void 0!==t.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),e.needsUpdate=!0,e},g.prototype=Object.create(y.Wid.prototype),g.prototype.constructor=g,g.prototype.copy=function(e){return y.Wid.prototype.copy.call(this,e),this.specularMap=e.specularMap,this.specular.copy(e.specular),this.glossinessMap=e.glossinessMap,this.glossiness=e.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},w.prototype=Object.create(y._C8.prototype),w.prototype.constructor=w,w.prototype.copySampleValue_=function(e){for(var t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,o=e*n*3+n,a=0;a!==n;a++)t[a]=r[o+a];return t},w.prototype.beforeStart_=w.prototype.copySampleValue_,w.prototype.afterEnd_=w.prototype.copySampleValue_,w.prototype.interpolate_=function(e,t,r,n){for(var o=this.resultBuffer,a=this.sampleValues,i=this.valueSize,s=2*i,c=3*i,u=n-t,l=(r-t)/u,p=l*l,d=p*l,h=e*c,f=h-c,m=-2*d+3*p,g=d-p,v=1-m,y=g-p+l,b=0;b!==i;b++){var w=a[f+b+i],x=a[f+b+s]*u,T=a[h+b+i],E=a[h+b]*u;o[b]=v*w+y*x+m*T+g*E}return o};var x=0,T=1,E=2,A=3,R=4,_=5,L=6,M={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},S={9728:y.TyD,9729:y.wem,9984:y.YLQ,9985:y.qyh,9986:y.aH4,9987:y.D1R},O={33071:y.uWy,33648:y.OoA,10497:y.rpg},P={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},k={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},C={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},N={CUBICSPLINE:void 0,LINEAR:y.NMF,STEP:y.Syv},I="OPAQUE",D="MASK",U="BLEND";function H(e,t){return"string"!=typeof e||""===e?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}function j(e,t,r){for(var n in r.extensions)void 0===e[n]&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[n]=r.extensions[n])}function F(e,t){void 0!==t.extras&&("object"==typeof t.extras?Object.assign(e.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function G(e,t){if(e.updateMorphTargets(),void 0!==t.weights)for(var r=0,n=t.weights.length;r<n;r++)e.morphTargetInfluences[r]=t.weights[r];if(t.extras&&Array.isArray(t.extras.targetNames)){var o=t.extras.targetNames;if(e.morphTargetInfluences.length===o.length){e.morphTargetDictionary={};for(r=0,n=o.length;r<n;r++)e.morphTargetDictionary[o[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function z(e){for(var t="",r=Object.keys(e).sort(),n=0,o=r.length;n<o;n++)t+=r[n]+":"+e[r[n]]+";";return t}function B(e,r){this.json=e||{},this.extensions={},this.plugins={},this.options=r||{},this.cache=new t,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new y.QRU(this.options.manager):this.textureLoader=new y.dpR(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new y.hH6(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function Z(e,t,r){var n=t.attributes,o=[];function a(t,n){return r.getDependency("accessor",t).then((function(t){e.setAttribute(n,t)}))}for(var i in n){var s=k[i]||i.toLowerCase();s in e.attributes||o.push(a(n[i],s))}if(void 0!==t.indices&&!e.index){var c=r.getDependency("accessor",t.indices).then((function(t){e.setIndex(t)}));o.push(c)}return F(e,t),function(e,t,r){var n=t.attributes,o=new y.ZzF;if(void 0!==n.POSITION){var a=(d=r.json.accessors[n.POSITION]).min,i=d.max;if(void 0!==a&&void 0!==i){o.set(new y.Pa4(a[0],a[1],a[2]),new y.Pa4(i[0],i[1],i[2]));var s=t.targets;if(void 0!==s){for(var c=new y.Pa4,u=new y.Pa4,l=0,p=s.length;l<p;l++){var d,h=s[l];if(void 0!==h.POSITION)a=(d=r.json.accessors[h.POSITION]).min,i=d.max,void 0!==a&&void 0!==i?(u.setX(Math.max(Math.abs(a[0]),Math.abs(i[0]))),u.setY(Math.max(Math.abs(a[1]),Math.abs(i[1]))),u.setZ(Math.max(Math.abs(a[2]),Math.abs(i[2]))),c.max(u)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}o.expandByVector(c)}e.boundingBox=o;var f=new y.aLr;o.getCenter(f.center),f.radius=o.min.distanceTo(o.max)/2,e.boundingSphere=f}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(e,t,r),Promise.all(o).then((function(){return void 0!==t.targets?function(e,t,r){for(var n=!1,o=!1,a=0,i=t.length;a<i&&(void 0!==(u=t[a]).POSITION&&(n=!0),void 0!==u.NORMAL&&(o=!0),!n||!o);a++);if(!n&&!o)return Promise.resolve(e);var s=[],c=[];for(a=0,i=t.length;a<i;a++){var u=t[a];if(n){var l=void 0!==u.POSITION?r.getDependency("accessor",u.POSITION):e.attributes.position;s.push(l)}o&&(l=void 0!==u.NORMAL?r.getDependency("accessor",u.NORMAL):e.attributes.normal,c.push(l))}return Promise.all([Promise.all(s),Promise.all(c)]).then((function(t){var r=t[0],a=t[1];return n&&(e.morphAttributes.position=r),o&&(e.morphAttributes.normal=a),e.morphTargetsRelative=!0,e}))}(e,t.targets,r):e}))}function K(e,t){var r=e.getIndex();if(null===r){var n=[],o=e.getAttribute("position");if(void 0===o)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),e;for(var a=0;a<o.count;a++)n.push(a);e.setIndex(n),r=e.getIndex()}var i=r.count-2,s=[];if(t===y.z$h)for(a=1;a<=i;a++)s.push(r.getX(0)),s.push(r.getX(a)),s.push(r.getX(a+1));else for(a=0;a<i;a++)a%2==0?(s.push(r.getX(a)),s.push(r.getX(a+1)),s.push(r.getX(a+2))):(s.push(r.getX(a+2)),s.push(r.getX(a+1)),s.push(r.getX(a)));s.length/3!==i&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var c=e.clone();return c.setIndex(s),c}return B.prototype.setExtensions=function(e){this.extensions=e},B.prototype.setPlugins=function(e){this.plugins=e},B.prototype.parse=function(e,t){var r=this,n=this.json,o=this.extensions;this.cache.removeAll(),this._invokeAll((function(e){return e._markDefs&&e._markDefs()})),Promise.all(this._invokeAll((function(e){return e.beforeRoot&&e.beforeRoot()}))).then((function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])})).then((function(t){var a={scene:t[0][n.scene||0],scenes:t[0],animations:t[1],cameras:t[2],asset:n.asset,parser:r,userData:{}};j(o,a,n),F(a,n),Promise.all(r._invokeAll((function(e){return e.afterRoot&&e.afterRoot(a)}))).then((function(){e(a)}))})).catch(t)},B.prototype._markDefs=function(){for(var e=this.json.nodes||[],t=this.json.skins||[],r=this.json.meshes||[],n=0,o=t.length;n<o;n++)for(var a=t[n].joints,i=0,s=a.length;i<s;i++)e[a[i]].isBone=!0;for(var c=0,u=e.length;c<u;c++){var l=e[c];void 0!==l.mesh&&(this._addNodeRef(this.meshCache,l.mesh),void 0!==l.skin&&(r[l.mesh].isSkinnedMesh=!0)),void 0!==l.camera&&this._addNodeRef(this.cameraCache,l.camera)}},B.prototype._addNodeRef=function(e,t){void 0!==t&&(void 0===e.refs[t]&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)},B.prototype._getNodeRef=function(e,t,r){if(e.refs[t]<=1)return r;var n=r.clone();return n.name+="_instance_"+e.uses[t]++,n},B.prototype._invokeOne=function(e){var t=Object.values(this.plugins);t.push(this);for(var r=0;r<t.length;r++){var n=e(t[r]);if(n)return n}},B.prototype._invokeAll=function(e){var t=Object.values(this.plugins);t.unshift(this);for(var r=[],n=0;n<t.length;n++){var o=e(t[n]);o&&r.push(o)}return r},B.prototype.getDependency=function(e,t){var r=e+":"+t,n=this.cache.get(r);if(!n){switch(e){case"scene":n=this.loadScene(t);break;case"node":n=this.loadNode(t);break;case"mesh":n=this._invokeOne((function(e){return e.loadMesh&&e.loadMesh(t)}));break;case"accessor":n=this.loadAccessor(t);break;case"bufferView":n=this._invokeOne((function(e){return e.loadBufferView&&e.loadBufferView(t)}));break;case"buffer":n=this.loadBuffer(t);break;case"material":n=this._invokeOne((function(e){return e.loadMaterial&&e.loadMaterial(t)}));break;case"texture":n=this._invokeOne((function(e){return e.loadTexture&&e.loadTexture(t)}));break;case"skin":n=this.loadSkin(t);break;case"animation":n=this.loadAnimation(t);break;case"camera":n=this.loadCamera(t);break;default:throw new Error("Unknown type: "+e)}this.cache.add(r,n)}return n},B.prototype.getDependencies=function(e){var t=this.cache.get(e);if(!t){var r=this,n=this.json[e+("mesh"===e?"es":"s")]||[];t=Promise.all(n.map((function(t,n){return r.getDependency(e,n)}))),this.cache.add(e,t)}return t},B.prototype.loadBuffer=function(e){var t=this.json.buffers[e],n=this.fileLoader;if(t.type&&"arraybuffer"!==t.type)throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(void 0===t.uri&&0===e)return Promise.resolve(this.extensions[r.KHR_BINARY_GLTF].body);var o=this.options;return new Promise((function(e,r){n.load(H(t.uri,o.path),e,void 0,(function(){r(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))}))}))},B.prototype.loadBufferView=function(e){var t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then((function(e){var r=t.byteLength||0,n=t.byteOffset||0;return e.slice(n,n+r)}))},B.prototype.loadAccessor=function(e){var t=this,r=this.json,n=this.json.accessors[e];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var o=[];return void 0!==n.bufferView?o.push(this.getDependency("bufferView",n.bufferView)):o.push(null),void 0!==n.sparse&&(o.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(o).then((function(e){var o,a,i=e[0],s=P[n.type],c=M[n.componentType],u=c.BYTES_PER_ELEMENT,l=u*s,p=n.byteOffset||0,d=void 0!==n.bufferView?r.bufferViews[n.bufferView].byteStride:void 0,h=!0===n.normalized;if(d&&d!==l){var f=Math.floor(p/d),m="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+f+":"+n.count,g=t.cache.get(m);g||(o=new c(i,f*d,n.count*d/u),g=new y.vpT(o,d/u),t.cache.add(m,g)),a=new y.kB5(g,s,p%d/u,h)}else o=null===i?new c(n.count*s):new c(i,p,n.count*s),a=new y.TlE(o,s,h);if(void 0!==n.sparse){var v=P.SCALAR,b=M[n.sparse.indices.componentType],w=n.sparse.indices.byteOffset||0,x=n.sparse.values.byteOffset||0,T=new b(e[1],w,n.sparse.count*v),E=new c(e[2],x,n.sparse.count*s);null!==i&&(a=new y.TlE(a.array.slice(),a.itemSize,a.normalized));for(var A=0,R=T.length;A<R;A++){var _=T[A];if(a.setX(_,E[A*s]),s>=2&&a.setY(_,E[A*s+1]),s>=3&&a.setZ(_,E[A*s+2]),s>=4&&a.setW(_,E[A*s+3]),s>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},B.prototype.loadTexture=function(e){var t=this.json,r=this.options,n=t.textures[e],o=t.images[n.source],a=this.textureLoader;if(o.uri){var i=r.manager.getHandler(o.uri);null!==i&&(a=i)}return this.loadTextureImage(e,o,a)},B.prototype.loadTextureImage=function(e,t,r){var n=this,o=this.json,a=this.options,i=o.textures[e],s=self.URL||self.webkitURL,c=t.uri,u=!1,l=!0;if("image/jpeg"===t.mimeType&&(l=!1),void 0!==t.bufferView)c=n.getDependency("bufferView",t.bufferView).then((function(e){if("image/png"===t.mimeType){var r=new DataView(e,25,1).getUint8(0,!1);l=6===r||4===r||3===r}u=!0;var n=new Blob([e],{type:t.mimeType});return c=s.createObjectURL(n)}));else if(void 0===t.uri)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");return Promise.resolve(c).then((function(e){return new Promise((function(t,n){var o=t;!0===r.isImageBitmapLoader&&(o=function(e){t(new y.ROQ(e))}),r.load(H(e,a.path),o,void 0,n)}))})).then((function(t){!0===u&&s.revokeObjectURL(c),t.flipY=!1,i.name&&(t.name=i.name),l||(t.format=y.UCm);var r=(o.samplers||{})[i.sampler]||{};return t.magFilter=S[r.magFilter]||y.wem,t.minFilter=S[r.minFilter]||y.D1R,t.wrapS=O[r.wrapS]||y.rpg,t.wrapT=O[r.wrapT]||y.rpg,n.associations.set(t,{type:"textures",index:e}),t}))},B.prototype.assignTexture=function(e,t,n){var o=this;return this.getDependency("texture",n.index).then((function(a){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===t&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+t+" not yet supported."),o.extensions[r.KHR_TEXTURE_TRANSFORM]){var i=void 0!==n.extensions?n.extensions[r.KHR_TEXTURE_TRANSFORM]:void 0;if(i){var s=o.associations.get(a);a=o.extensions[r.KHR_TEXTURE_TRANSFORM].extendTexture(a,i),o.associations.set(a,s)}}e[t]=a}))},B.prototype.assignFinalMaterial=function(e){var t=e.geometry,r=e.material,n=void 0!==t.attributes.tangent,o=void 0!==t.attributes.color,a=void 0===t.attributes.normal,i=!0===e.isSkinnedMesh,s=Object.keys(t.morphAttributes).length>0,c=s&&void 0!==t.morphAttributes.normal;if(e.isPoints){var u="PointsMaterial:"+r.uuid,l=this.cache.get(u);l||(l=new y.UY4,y.F5T.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(u,l)),r=l}else if(e.isLine){u="LineBasicMaterial:"+r.uuid;var p=this.cache.get(u);p||(p=new y.nls,y.F5T.prototype.copy.call(p,r),p.color.copy(r.color),this.cache.add(u,p)),r=p}if(n||o||a||i||s){u="ClonedMaterial:"+r.uuid+":";r.isGLTFSpecularGlossinessMaterial&&(u+="specular-glossiness:"),i&&(u+="skinning:"),n&&(u+="vertex-tangents:"),o&&(u+="vertex-colors:"),a&&(u+="flat-shading:"),s&&(u+="morph-targets:"),c&&(u+="morph-normals:");var d=this.cache.get(u);d||(d=r.clone(),i&&(d.skinning=!0),o&&(d.vertexColors=!0),a&&(d.flatShading=!0),s&&(d.morphTargets=!0),c&&(d.morphNormals=!0),n&&(d.vertexTangents=!0,d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(u,d),this.associations.set(d,this.associations.get(r))),r=d}r.aoMap&&void 0===t.attributes.uv2&&void 0!==t.attributes.uv&&t.setAttribute("uv2",t.attributes.uv),e.material=r},B.prototype.getMaterialType=function(){return y.Wid},B.prototype.loadMaterial=function(e){var t,n=this,o=this.json,a=this.extensions,i=o.materials[e],s={},c=i.extensions||{},u=[];if(c[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var l=a[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];t=l.getMaterialType(),u.push(l.extendParams(s,i,n))}else if(c[r.KHR_MATERIALS_UNLIT]){var p=a[r.KHR_MATERIALS_UNLIT];t=p.getMaterialType(),u.push(p.extendParams(s,i,n))}else{var d=i.pbrMetallicRoughness||{};if(s.color=new y.Ilk(1,1,1),s.opacity=1,Array.isArray(d.baseColorFactor)){var h=d.baseColorFactor;s.color.fromArray(h),s.opacity=h[3]}void 0!==d.baseColorTexture&&u.push(n.assignTexture(s,"map",d.baseColorTexture)),s.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,s.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(u.push(n.assignTexture(s,"metalnessMap",d.metallicRoughnessTexture)),u.push(n.assignTexture(s,"roughnessMap",d.metallicRoughnessTexture))),t=this._invokeOne((function(t){return t.getMaterialType&&t.getMaterialType(e)})),u.push(Promise.all(this._invokeAll((function(t){return t.extendMaterialParams&&t.extendMaterialParams(e,s)}))))}!0===i.doubleSided&&(s.side=y.ehD);var f=i.alphaMode||I;return f===U?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,f===D&&(s.alphaTest=void 0!==i.alphaCutoff?i.alphaCutoff:.5)),void 0!==i.normalTexture&&t!==y.vBJ&&(u.push(n.assignTexture(s,"normalMap",i.normalTexture)),s.normalScale=new y.FM8(1,-1),void 0!==i.normalTexture.scale&&s.normalScale.set(i.normalTexture.scale,-i.normalTexture.scale)),void 0!==i.occlusionTexture&&t!==y.vBJ&&(u.push(n.assignTexture(s,"aoMap",i.occlusionTexture)),void 0!==i.occlusionTexture.strength&&(s.aoMapIntensity=i.occlusionTexture.strength)),void 0!==i.emissiveFactor&&t!==y.vBJ&&(s.emissive=(new y.Ilk).fromArray(i.emissiveFactor)),void 0!==i.emissiveTexture&&t!==y.vBJ&&u.push(n.assignTexture(s,"emissiveMap",i.emissiveTexture)),Promise.all(u).then((function(){var o;return o=t===g?a[r.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(s):new t(s),i.name&&(o.name=i.name),o.map&&(o.map.encoding=y.knz),o.emissiveMap&&(o.emissiveMap.encoding=y.knz),F(o,i),n.associations.set(o,{type:"materials",index:e}),i.extensions&&j(a,o,i),o}))},B.prototype.createUniqueName=function(e){for(var t=y.iUV.sanitizeNodeName(e||""),r=t,n=1;this.nodeNamesUsed[r];++n)r=t+"_"+n;return this.nodeNamesUsed[r]=!0,r},B.prototype.loadGeometries=function(e){var t=this,n=this.extensions,o=this.primitiveCache;function a(e){return n[r.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(e,t).then((function(r){return Z(r,e,t)}))}for(var i,s,c=[],u=0,l=e.length;u<l;u++){var p,d=e[u],h=(s=void 0,(s=(i=d).extensions&&i.extensions[r.KHR_DRACO_MESH_COMPRESSION])?"draco:"+s.bufferView+":"+s.indices+":"+z(s.attributes):i.indices+":"+z(i.attributes)+":"+i.mode),f=o[h];if(f)c.push(f.promise);else p=d.extensions&&d.extensions[r.KHR_DRACO_MESH_COMPRESSION]?a(d):Z(new y.u9r,d,t),o[h]={primitive:d,promise:p},c.push(p)}return Promise.all(c)},B.prototype.loadMesh=function(e){for(var t,r=this,n=this.json,o=this.extensions,a=n.meshes[e],i=a.primitives,s=[],c=0,u=i.length;c<u;c++){var l=void 0===i[c].material?(void 0===(t=this.cache).DefaultMaterial&&(t.DefaultMaterial=new y.Wid({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:y.Wl3})),t.DefaultMaterial):this.getDependency("material",i[c].material);s.push(l)}return s.push(r.loadGeometries(i)),Promise.all(s).then((function(t){for(var n=t.slice(0,t.length-1),s=t[t.length-1],c=[],u=0,l=s.length;u<l;u++){var p,d=s[u],h=i[u],f=n[u];if(h.mode===R||h.mode===_||h.mode===L||void 0===h.mode)!0!==(p=!0===a.isSkinnedMesh?new y.TUv(d,f):new y.Kj0(d,f)).isSkinnedMesh||p.geometry.attributes.skinWeight.normalized||p.normalizeSkinWeights(),h.mode===_?p.geometry=K(p.geometry,y.UlW):h.mode===L&&(p.geometry=K(p.geometry,y.z$h));else if(h.mode===T)p=new y.ejS(d,f);else if(h.mode===A)p=new y.x12(d,f);else if(h.mode===E)p=new y.blk(d,f);else{if(h.mode!==x)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+h.mode);p=new y.woe(d,f)}Object.keys(p.geometry.morphAttributes).length>0&&G(p,a),p.name=r.createUniqueName(a.name||"mesh_"+e),F(p,a),h.extensions&&j(o,p,h),r.assignFinalMaterial(p),c.push(p)}if(1===c.length)return c[0];var m=new y.ZAu;for(u=0,l=c.length;u<l;u++)m.add(c[u]);return m}))},B.prototype.loadCamera=function(e){var t,r=this.json.cameras[e],n=r[r.type];if(n)return"perspective"===r.type?t=new y.cPb(y.M8C.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===r.type&&(t=new y.iKG(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),r.name&&(t.name=this.createUniqueName(r.name)),F(t,r),Promise.resolve(t);console.warn("THREE.GLTFLoader: Missing camera parameters.")},B.prototype.loadSkin=function(e){var t=this.json.skins[e],r={joints:t.joints};return void 0===t.inverseBindMatrices?Promise.resolve(r):this.getDependency("accessor",t.inverseBindMatrices).then((function(e){return r.inverseBindMatrices=e,r}))},B.prototype.loadAnimation=function(e){for(var t=this.json.animations[e],r=[],n=[],o=[],a=[],i=[],s=0,c=t.channels.length;s<c;s++){var u=t.channels[s],l=t.samplers[u.sampler],p=u.target,d=void 0!==p.node?p.node:p.id,h=void 0!==t.parameters?t.parameters[l.input]:l.input,f=void 0!==t.parameters?t.parameters[l.output]:l.output;r.push(this.getDependency("node",d)),n.push(this.getDependency("accessor",h)),o.push(this.getDependency("accessor",f)),a.push(l),i.push(p)}return Promise.all([Promise.all(r),Promise.all(n),Promise.all(o),Promise.all(a),Promise.all(i)]).then((function(r){for(var n=r[0],o=r[1],a=r[2],i=r[3],s=r[4],c=[],u=0,l=n.length;u<l;u++){var p=n[u],d=o[u],h=a[u],f=i[u],m=s[u];if(void 0!==p){var g;switch(p.updateMatrix(),p.matrixAutoUpdate=!0,C[m.path]){case C.weights:g=y.dUE;break;case C.rotation:g=y.iLg;break;case C.position:case C.scale:default:g=y.yC1}var v=p.name?p.name:p.uuid,b=void 0!==f.interpolation?N[f.interpolation]:y.NMF,x=[];C[m.path]===C.weights?p.traverse((function(e){!0===e.isMesh&&e.morphTargetInfluences&&x.push(e.name?e.name:e.uuid)})):x.push(v);var T=h.array;if(h.normalized){var E;if(T.constructor===Int8Array)E=1/127;else if(T.constructor===Uint8Array)E=1/255;else if(T.constructor==Int16Array)E=1/32767;else{if(T.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");E=1/65535}for(var A=new Float32Array(T.length),R=0,_=T.length;R<_;R++)A[R]=T[R]*E;T=A}for(R=0,_=x.length;R<_;R++){var L=new g(x[R]+"."+C[m.path],d.array,T,b);"CUBICSPLINE"===f.interpolation&&(L.createInterpolant=function(e){return new w(this.times,this.values,this.getValueSize()/3,e)},L.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(L)}}}var M=t.name?t.name:"animation_"+e;return new y.m7l(M,void 0,c)}))},B.prototype.loadNode=function(e){var t,r=this.json,n=this.extensions,o=this,a=r.nodes[e],i=a.name?o.createUniqueName(a.name):"";return(t=[],void 0!==a.mesh&&t.push(o.getDependency("mesh",a.mesh).then((function(e){var t=o._getNodeRef(o.meshCache,a.mesh,e);return void 0!==a.weights&&t.traverse((function(e){if(e.isMesh)for(var t=0,r=a.weights.length;t<r;t++)e.morphTargetInfluences[t]=a.weights[t]})),t}))),void 0!==a.camera&&t.push(o.getDependency("camera",a.camera).then((function(e){return o._getNodeRef(o.cameraCache,a.camera,e)}))),o._invokeAll((function(t){return t.createNodeAttachment&&t.createNodeAttachment(e)})).forEach((function(e){t.push(e)})),Promise.all(t)).then((function(t){var r;if((r=!0===a.isBone?new y.N$j:t.length>1?new y.ZAu:1===t.length?t[0]:new y.Tme)!==t[0])for(var s=0,c=t.length;s<c;s++)r.add(t[s]);if(a.name&&(r.userData.name=a.name,r.name=i),F(r,a),a.extensions&&j(n,r,a),void 0!==a.matrix){var u=new y.yGw;u.fromArray(a.matrix),r.applyMatrix4(u)}else void 0!==a.translation&&r.position.fromArray(a.translation),void 0!==a.rotation&&r.quaternion.fromArray(a.rotation),void 0!==a.scale&&r.scale.fromArray(a.scale);return o.associations.set(r,{type:"nodes",index:e}),r}))},B.prototype.loadScene=function(){function e(t,r,n,o){var a=n.nodes[t];return o.getDependency("node",t).then((function(e){return void 0===a.skin?e:o.getDependency("skin",a.skin).then((function(e){for(var r=[],n=0,a=(t=e).joints.length;n<a;n++)r.push(o.getDependency("node",t.joints[n]));return Promise.all(r)})).then((function(r){return e.traverse((function(e){if(e.isMesh){for(var n=[],o=[],a=0,i=r.length;a<i;a++){var s=r[a];if(s){n.push(s);var c=new y.yGw;void 0!==t.inverseBindMatrices&&c.fromArray(t.inverseBindMatrices.array,16*a),o.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[a])}e.bind(new y.OdW(n,o),e.matrixWorld)}})),e}));var t})).then((function(t){r.add(t);var i=[];if(a.children)for(var s=a.children,c=0,u=s.length;c<u;c++){var l=s[c];i.push(e(l,t,n,o))}return Promise.all(i)}))}return function(t){var r=this.json,n=this.extensions,o=this.json.scenes[t],a=new y.ZAu;o.name&&(a.name=this.createUniqueName(o.name)),F(a,o),o.extensions&&j(n,a,o);for(var i=o.nodes||[],s=[],c=0,u=i.length;c<u;c++)s.push(e(i[c],a,r,this));return Promise.all(s).then((function(){return a}))}}(),e}(),w=function(e){y.aNw.call(this,e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};w.prototype=Object.assign(Object.create(y.aNw.prototype),{constructor:w,setDecoderPath:function(e){return this.decoderPath=e,this},setDecoderConfig:function(e){return this.decoderConfig=e,this},setWorkerLimit:function(e){return this.workerLimit=e,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(e,t,r,n){var o=this,a=new y.hH6(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,(function(e){var r={attributeIDs:o.defaultAttributeIDs,attributeTypes:o.defaultAttributeTypes,useUniqueIDs:!1};o.decodeGeometry(e,r).then(t).catch(n)}),r,n)},decodeDracoFile:function(e,t,r,n){var o={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};this.decodeGeometry(e,o).then(t)},decodeGeometry:function(e,t){var r=this;for(var n in t.attributeTypes){var o=t.attributeTypes[n];void 0!==o.BYTES_PER_ELEMENT&&(t.attributeTypes[n]=o.name)}var a,i=JSON.stringify(t);if(w.taskCache.has(e)){var s=w.taskCache.get(e);if(s.key===i)return s.promise;if(0===e.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var c=this.workerNextTaskID++,u=e.byteLength,l=this._getWorker(c,u).then((function(r){return a=r,new Promise((function(r,n){a._callbacks[c]={resolve:r,reject:n},a.postMessage({type:"decode",id:c,taskConfig:t,buffer:e},[e])}))})).then((function(e){return r._createGeometry(e.geometry)}));return l.catch((function(){return!0})).then((function(){a&&c&&r._releaseTask(a,c)})),w.taskCache.set(e,{key:i,promise:l}),l},_createGeometry:function(e){var t=new y.u9r;e.index&&t.setIndex(new y.TlE(e.index.array,1));for(var r=0;r<e.attributes.length;r++){var n=e.attributes[r],o=n.name,a=n.array,i=n.itemSize;t.setAttribute(o,new y.TlE(a,i))}return t},_loadLibrary:function(e,t){var r=new y.hH6(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((function(t,n){r.load(e,t,void 0,n)}))},preload:function(){return this._initDecoder(),this},_initDecoder:function(){var e=this;if(this.decoderPending)return this.decoderPending;var t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,r=[];return t?r.push(this._loadLibrary("draco_decoder.js","text")):(r.push(this._loadLibrary("draco_wasm_wrapper.js","text")),r.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(r).then((function(r){var n=r[0];t||(e.decoderConfig.wasmBinary=r[1]);var o=w.DRACOWorker.toString(),a=["/* draco decoder */",n,"","/* worker */",o.substring(o.indexOf("{")+1,o.lastIndexOf("}"))].join("\n");e.workerSourceURL=URL.createObjectURL(new Blob([a]))})),this.decoderPending},_getWorker:function(e,t){var r=this;return this._initDecoder().then((function(){var n;r.workerPool.length<r.workerLimit?((n=new Worker(r.workerSourceURL))._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:r.decoderConfig}),n.onmessage=function(e){var t=e.data;switch(t.type){case"decode":n._callbacks[t.id].resolve(t);break;case"error":n._callbacks[t.id].reject(t);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+t.type+'"')}},r.workerPool.push(n)):r.workerPool.sort((function(e,t){return e._taskLoad>t._taskLoad?-1:1}));return(n=r.workerPool[r.workerPool.length-1])._taskCosts[e]=t,n._taskLoad+=t,n}))},_releaseTask:function(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]},debug:function(){console.log("Task load: ",this.workerPool.map((function(e){return e._taskLoad})))},dispose:function(){for(var e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this}}),w.DRACOWorker=function(){var e,t;function r(e,t,r,n,o,a){var i=a.num_components(),s=r.num_points()*i,c=s*o.BYTES_PER_ELEMENT,u=function(e,t){switch(t){case Float32Array:return e.DT_FLOAT32;case Int8Array:return e.DT_INT8;case Int16Array:return e.DT_INT16;case Int32Array:return e.DT_INT32;case Uint8Array:return e.DT_UINT8;case Uint16Array:return e.DT_UINT16;case Uint32Array:return e.DT_UINT32}}(e,o),l=e._malloc(c);t.GetAttributeDataArrayForAllPoints(r,a,u,c,l);var p=new o(e.HEAPF32.buffer,l,s).slice();return e._free(l),{name:n,array:p,itemSize:i}}onmessage=function(n){var o=n.data;switch(o.type){case"init":e=o.decoderConfig,t=new Promise((function(t){e.onModuleLoaded=function(e){t({draco:e})},DracoDecoderModule(e)}));break;case"decode":var a=o.buffer,i=o.taskConfig;t.then((function(e){var t=e.draco,n=new t.Decoder,s=new t.DecoderBuffer;s.Init(new Int8Array(a),a.byteLength);try{var c=function(e,t,n,o){var a,i,s=o.attributeIDs,c=o.attributeTypes,u=t.GetEncodedGeometryType(n);if(u===e.TRIANGULAR_MESH)a=new e.Mesh,i=t.DecodeBufferToMesh(n,a);else{if(u!==e.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");a=new e.PointCloud,i=t.DecodeBufferToPointCloud(n,a)}if(!i.ok()||0===a.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+i.error_msg());var l={index:null,attributes:[]};for(var p in s){var d,h,f=self[c[p]];if(o.useUniqueIDs)h=s[p],d=t.GetAttributeByUniqueId(a,h);else{if(-1===(h=t.GetAttributeId(a,e[s[p]])))continue;d=t.GetAttribute(a,h)}l.attributes.push(r(e,t,a,p,f,d))}u===e.TRIANGULAR_MESH&&(l.index=function(e,t,r){var n=3*r.num_faces(),o=4*n,a=e._malloc(o);t.GetTrianglesUInt32Array(r,o,a);var i=new Uint32Array(e.HEAPF32.buffer,a,n).slice();return e._free(a),{array:i,itemSize:1}}(e,t,a));return e.destroy(a),l}(t,n,s,i),u=c.attributes.map((function(e){return e.array.buffer}));c.index&&u.push(c.index.array.buffer),self.postMessage({type:"decode",id:o.id,geometry:c},u)}catch(l){console.error(l),self.postMessage({type:"error",id:o.id,error:l.message})}finally{t.destroy(s),t.destroy(n)}}))}}},w.taskCache=new WeakMap,w.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},w.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},w.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},w.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};var x=function(e,t){var r,n,o,a,i,s;void 0===t&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.'),t===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.'),this.object=e,this.domElement=t,this.enabled=!0,this.target=new y.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:y.RsA.ROTATE,MIDDLE:y.RsA.DOLLY,RIGHT:y.RsA.PAN},this.touches={ONE:y.QmN.ROTATE,TWO:y.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.listenToKeyEvents=function(e){e.addEventListener("keydown",Q),this._domElementKeyEvents=e},this.saveState=function(){c.target0.copy(c.target),c.position0.copy(c.object.position),c.zoom0=c.object.zoom},this.reset=function(){c.target.copy(c.target0),c.object.position.copy(c.position0),c.object.zoom=c.zoom0,c.object.updateProjectionMatrix(),c.dispatchEvent(u),c.update(),h=d.NONE},this.update=(r=new y.Pa4,n=(new y._fP).setFromUnitVectors(e.up,new y.Pa4(0,1,0)),o=n.clone().invert(),a=new y.Pa4,i=new y._fP,s=2*Math.PI,function(){var e=c.object.position;r.copy(e).sub(c.target),r.applyQuaternion(n),m.setFromVector3(r),c.autoRotate&&h===d.NONE&&P(2*Math.PI/60/60*c.autoRotateSpeed),c.enableDamping?(m.theta+=g.theta*c.dampingFactor,m.phi+=g.phi*c.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi);var t=c.minAzimuthAngle,l=c.maxAzimuthAngle;return isFinite(t)&&isFinite(l)&&(t<-Math.PI?t+=s:t>Math.PI&&(t-=s),l<-Math.PI?l+=s:l>Math.PI&&(l-=s),m.theta=t<=l?Math.max(t,Math.min(l,m.theta)):m.theta>(t+l)/2?Math.max(t,m.theta):Math.min(l,m.theta)),m.phi=Math.max(c.minPolarAngle,Math.min(c.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=v,m.radius=Math.max(c.minDistance,Math.min(c.maxDistance,m.radius)),!0===c.enableDamping?c.target.addScaledVector(b,c.dampingFactor):c.target.add(b),r.setFromSpherical(m),r.applyQuaternion(o),e.copy(c.target).add(r),c.object.lookAt(c.target),!0===c.enableDamping?(g.theta*=1-c.dampingFactor,g.phi*=1-c.dampingFactor,b.multiplyScalar(1-c.dampingFactor)):(g.set(0,0,0),b.set(0,0,0)),v=1,!!(w||a.distanceToSquared(c.object.position)>f||8*(1-i.dot(c.object.quaternion))>f)&&(c.dispatchEvent(u),a.copy(c.object.position),i.copy(c.object.quaternion),w=!1,!0)}),this.dispose=function(){c.domElement.removeEventListener("contextmenu",te),c.domElement.removeEventListener("pointerdown",X),c.domElement.removeEventListener("wheel",W),c.domElement.removeEventListener("touchstart",J),c.domElement.removeEventListener("touchend",ee),c.domElement.removeEventListener("touchmove",$),c.domElement.ownerDocument.removeEventListener("pointermove",Y),c.domElement.ownerDocument.removeEventListener("pointerup",q),null!==c._domElementKeyEvents&&c._domElementKeyEvents.removeEventListener("keydown",Q)};var c=this,u={type:"change"},l={type:"start"},p={type:"end"},d={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},h=d.NONE,f=1e-6,m=new y.$V,g=new y.$V,v=1,b=new y.Pa4,w=!1,x=new y.FM8,T=new y.FM8,E=new y.FM8,A=new y.FM8,R=new y.FM8,_=new y.FM8,L=new y.FM8,M=new y.FM8,S=new y.FM8;function O(){return Math.pow(.95,c.zoomSpeed)}function P(e){g.theta-=e}function k(e){g.phi-=e}var C,N=(C=new y.Pa4,function(e,t){C.setFromMatrixColumn(t,0),C.multiplyScalar(-e),b.add(C)}),I=function(){var e=new y.Pa4;return function(t,r){!0===c.screenSpacePanning?e.setFromMatrixColumn(r,1):(e.setFromMatrixColumn(r,0),e.crossVectors(c.object.up,e)),e.multiplyScalar(t),b.add(e)}}(),D=function(){var e=new y.Pa4;return function(t,r){var n=c.domElement;if(c.object.isPerspectiveCamera){var o=c.object.position;e.copy(o).sub(c.target);var a=e.length();a*=Math.tan(c.object.fov/2*Math.PI/180),N(2*t*a/n.clientHeight,c.object.matrix),I(2*r*a/n.clientHeight,c.object.matrix)}else c.object.isOrthographicCamera?(N(t*(c.object.right-c.object.left)/c.object.zoom/n.clientWidth,c.object.matrix),I(r*(c.object.top-c.object.bottom)/c.object.zoom/n.clientHeight,c.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),c.enablePan=!1)}}();function U(e){c.object.isPerspectiveCamera?v/=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom*e)),c.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function H(e){c.object.isPerspectiveCamera?v*=e:c.object.isOrthographicCamera?(c.object.zoom=Math.max(c.minZoom,Math.min(c.maxZoom,c.object.zoom/e)),c.object.updateProjectionMatrix(),w=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),c.enableZoom=!1)}function j(e){x.set(e.clientX,e.clientY)}function F(e){A.set(e.clientX,e.clientY)}function G(e){if(1==e.touches.length)x.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);x.set(t,r)}}function z(e){if(1==e.touches.length)A.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);A.set(t,r)}}function B(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);L.set(0,n)}function Z(e){if(1==e.touches.length)T.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);T.set(t,r)}E.subVectors(T,x).multiplyScalar(c.rotateSpeed);var n=c.domElement;P(2*Math.PI*E.x/n.clientHeight),k(2*Math.PI*E.y/n.clientHeight),x.copy(T)}function K(e){if(1==e.touches.length)R.set(e.touches[0].pageX,e.touches[0].pageY);else{var t=.5*(e.touches[0].pageX+e.touches[1].pageX),r=.5*(e.touches[0].pageY+e.touches[1].pageY);R.set(t,r)}_.subVectors(R,A).multiplyScalar(c.panSpeed),D(_.x,_.y),A.copy(R)}function V(e){var t=e.touches[0].pageX-e.touches[1].pageX,r=e.touches[0].pageY-e.touches[1].pageY,n=Math.sqrt(t*t+r*r);M.set(0,n),S.set(0,Math.pow(M.y/L.y,c.zoomSpeed)),U(S.y),L.copy(M)}function X(e){if(!1!==c.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){var t;switch(e.preventDefault(),c.domElement.focus?c.domElement.focus():window.focus(),e.button){case 0:t=c.mouseButtons.LEFT;break;case 1:t=c.mouseButtons.MIDDLE;break;case 2:t=c.mouseButtons.RIGHT;break;default:t=-1}switch(t){case y.RsA.DOLLY:if(!1===c.enableZoom)return;!function(e){L.set(e.clientX,e.clientY)}(e),h=d.DOLLY;break;case y.RsA.ROTATE:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===c.enablePan)return;F(e),h=d.PAN}else{if(!1===c.enableRotate)return;j(e),h=d.ROTATE}break;case y.RsA.PAN:if(e.ctrlKey||e.metaKey||e.shiftKey){if(!1===c.enableRotate)return;j(e),h=d.ROTATE}else{if(!1===c.enablePan)return;F(e),h=d.PAN}break;default:h=d.NONE}h!==d.NONE&&(c.domElement.ownerDocument.addEventListener("pointermove",Y),c.domElement.ownerDocument.addEventListener("pointerup",q),c.dispatchEvent(l))}(e)}}function Y(e){if(!1!==c.enabled)switch(e.pointerType){case"mouse":case"pen":!function(e){if(!1===c.enabled)return;switch(e.preventDefault(),h){case d.ROTATE:if(!1===c.enableRotate)return;!function(e){T.set(e.clientX,e.clientY),E.subVectors(T,x).multiplyScalar(c.rotateSpeed);var t=c.domElement;P(2*Math.PI*E.x/t.clientHeight),k(2*Math.PI*E.y/t.clientHeight),x.copy(T),c.update()}(e);break;case d.DOLLY:if(!1===c.enableZoom)return;!function(e){M.set(e.clientX,e.clientY),S.subVectors(M,L),S.y>0?U(O()):S.y<0&&H(O()),L.copy(M),c.update()}(e);break;case d.PAN:if(!1===c.enablePan)return;!function(e){R.set(e.clientX,e.clientY),_.subVectors(R,A).multiplyScalar(c.panSpeed),D(_.x,_.y),A.copy(R),c.update()}(e)}}(e)}}function q(e){switch(e.pointerType){case"mouse":case"pen":!function(e){if(c.domElement.ownerDocument.removeEventListener("pointermove",Y),c.domElement.ownerDocument.removeEventListener("pointerup",q),!1===c.enabled)return;c.dispatchEvent(p),h=d.NONE}()}}function W(e){!1===c.enabled||!1===c.enableZoom||h!==d.NONE&&h!==d.ROTATE||(e.preventDefault(),e.stopPropagation(),c.dispatchEvent(l),function(e){e.deltaY<0?H(O()):e.deltaY>0&&U(O()),c.update()}(e),c.dispatchEvent(p))}function Q(e){!1!==c.enabled&&!1!==c.enablePan&&function(e){var t=!1;switch(e.keyCode){case c.keys.UP:D(0,c.keyPanSpeed),t=!0;break;case c.keys.BOTTOM:D(0,-c.keyPanSpeed),t=!0;break;case c.keys.LEFT:D(c.keyPanSpeed,0),t=!0;break;case c.keys.RIGHT:D(-c.keyPanSpeed,0),t=!0}t&&(e.preventDefault(),c.update())}(e)}function J(e){if(!1!==c.enabled){switch(e.preventDefault(),e.touches.length){case 1:switch(c.touches.ONE){case y.QmN.ROTATE:if(!1===c.enableRotate)return;G(e),h=d.TOUCH_ROTATE;break;case y.QmN.PAN:if(!1===c.enablePan)return;z(e),h=d.TOUCH_PAN;break;default:h=d.NONE}break;case 2:switch(c.touches.TWO){case y.QmN.DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(e){c.enableZoom&&B(e),c.enablePan&&z(e)}(e),h=d.TOUCH_DOLLY_PAN;break;case y.QmN.DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(e){c.enableZoom&&B(e),c.enableRotate&&G(e)}(e),h=d.TOUCH_DOLLY_ROTATE;break;default:h=d.NONE}break;default:h=d.NONE}h!==d.NONE&&c.dispatchEvent(l)}}function $(e){if(!1!==c.enabled)switch(e.preventDefault(),e.stopPropagation(),h){case d.TOUCH_ROTATE:if(!1===c.enableRotate)return;Z(e),c.update();break;case d.TOUCH_PAN:if(!1===c.enablePan)return;K(e),c.update();break;case d.TOUCH_DOLLY_PAN:if(!1===c.enableZoom&&!1===c.enablePan)return;!function(e){c.enableZoom&&V(e),c.enablePan&&K(e)}(e),c.update();break;case d.TOUCH_DOLLY_ROTATE:if(!1===c.enableZoom&&!1===c.enableRotate)return;!function(e){c.enableZoom&&V(e),c.enableRotate&&Z(e)}(e),c.update();break;default:h=d.NONE}}function ee(e){!1!==c.enabled&&(c.dispatchEvent(p),h=d.NONE)}function te(e){!1!==c.enabled&&e.preventDefault()}c.domElement.addEventListener("contextmenu",te),c.domElement.addEventListener("pointerdown",X),c.domElement.addEventListener("wheel",W),c.domElement.addEventListener("touchstart",J),c.domElement.addEventListener("touchend",ee),c.domElement.addEventListener("touchmove",$),this.update()};(x.prototype=Object.create(y.pBf.prototype)).constructor=x;var T=function(e,t){x.call(this,e,t),this.screenSpacePanning=!1,this.mouseButtons.LEFT=y.RsA.PAN,this.mouseButtons.RIGHT=y.RsA.ROTATE,this.touches.ONE=y.QmN.PAN,this.touches.TWO=y.QmN.DOLLY_ROTATE};(T.prototype=Object.create(y.pBf.prototype)).constructor=T;var E=r(3431);var A=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).componentDidMount=function(){var e=v.findDOMNode(t.refs.myCanvas);e=document.querySelector("canvas.webgl");var r=new y.xsS,n=new w;n.setDecoderPath("/draco/");var o,a=new b;a.setDRACOLoader(n);a.load("/static/marcaz_v5.gltf",(function(e){(o=e.scene).scale.set(.5,.5,.5),o.position.y=.15,r.add(o)}));var i={width:window.innerWidth-75,height:window.innerHeight-75};"undefined"!=typeof window&&window.addEventListener("resize",(function(){i.width=window.innerWidth,i.height=window.innerHeight,c.aspect=i.width/i.height,c.updateProjectionMatrix(),p.setSize(i.width,i.height),p.setPixelRatio(Math.min(window.devicePixelRatio,2))}));var s=i.width/i.height,c=new y.iKG(-1*s,1*s,1,-1,.1,100);c.position.set(3,3,3),r.add(c);var u={x:0,y:0};document.addEventListener("mousemove",(function(e){e.preventDefault(),u.x=e.clientX/window.innerWidth*2-1,u.y=-e.clientY/window.innerHeight*2+1,c.position.x=5*u.x,c.position.y=5*u.y}),!1);var l=new x(c,e);l.enableDamping=!0;var p=new y.CP7({alpha:!0,canvas:e,antialias:!0});p.setSize(i.width,i.height),p.setPixelRatio(Math.min(window.devicePixelRatio,2)),p.setClearColor(0,0),p.outputEncoding=y.knz;var d=new y.SUY;!function e(){var t=d.getElapsedTime();t,l.update(),l.enableZoom=!1,o&&(o.rotation.y+=.01),p.render(r,c),window.requestAnimationFrame(e)}()},t}return(0,g.Z)(t,e),t.prototype.render=function(){var e=m("div",{target:"e153mzzu0"})({name:"uckz0v",styles:".webgl{position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);z-index:-1;cursor:grab;}"});return(0,E.tZ)(e,null,(0,E.tZ)("canvas",{ref:"myCanvas",className:"webgl"}))},t}(o.Component);var R=m("div",{target:"e1xrifpv1"})({name:"h9d6h0",styles:"display:flex;width:auto;align-items:flex-end;flex-direction:column;@media (max-width: 768px){align-items:center;align-content:center;padding:50px 0px 0px 0px;}padding:50px 50px;align-content:flex-end;.button{font-size:14px;background-color:white;display:inline-block;line-height:25px;height:25px;text-align:center;width:25px;outline:1px solid var(--color-primary);}.button:hover{background-color:var(--color-primary);color:white;border:none;cursor:pointer;}.background-active{background-color:var(--color-primary);color:white;}"}),_=m("p",{target:"e1xrifpv0"})({name:"1197jeq",styles:"font-size:14px;box-sizing:border-box;margin-top:1px;width:300px;@media (max-width: 768px){width:62.5vw;}display:inline-block;line-height:1.375em;padding:12.5px;outline:1px solid var(--color-primary);background-color:white"}),L=function(e){var t=function(e){void 0===e&&(e=!1);var t=o.useState(e),r=t[0],n=t[1];return[r,o.useCallback((function(){n((function(e){return!e}))}),[])]}(),r=t[0],n=t[1];return(0,E.tZ)(R,null,(0,E.tZ)("div",{onClick:n,className:"button sansFont "+(r?"background-active":"")},e.text),r&&(0,E.tZ)(_,{className:"primaryColor sansFont"},"Marcaz  is an interdisciplinary space for sharing research, critiques, histories, and new narratives around visual culture."))},M=function(){return(M=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},S=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]])}return r},O=!1;function P(e){var t=e.style,r=void 0===t?{}:t,n=S(e,["style"]),a=function(){var e=(0,o.useState)(k),t=e[0],r=e[1],n=function(){var e=(0,o.useState)(!1),t=e[0],r=e[1];return(0,o.useEffect)((function(){C()&&r(!0)}),[]),t}();return(0,o.useEffect)((function(){if(n)return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)};function e(){var e=k();r(e)}}),[n]),n?t:null}();!O&&r.height&&(O=!0,console.warn("<ReactDiv100vh /> overrides the height property of the style prop"));var i=M(M({},r),{height:a?a+"px":"100vh"});return o.createElement("div",M({style:i},n))}function k(){var e;return C()?(null===(e=document.documentElement)||void 0===e?void 0:e.clientHeight)||window.innerHeight:null}function C(){return"undefined"!=typeof window&&"undefined"!=typeof document}var N=r(2137),I=r(7757),D=r.n(I),U=r(1202);var H=m("div",{target:"e1ydztoe1"})({name:"pn82oe",styles:"position:absolute;@media (max-width: 768px) and (orientation: portrait){top:75%;}@media (max-width: 768px) and (orientation: landscape){top:62.5%;}top:85%;text-align:center;input{width:250px;display:inline-block;padding:10px 15px;font-size:14px;border-radius:0;-webkit-appearance:none;border:1px solid var(--color-primary);margin-right:-1px;color:var(--color-primary);@media (max-width: 768px){width:200px;}@media (max-width: 768px){margin-right:-1px;}}input:focus,button:focus{outline-width:0;}input:-webkit-autofill,input:-webkit-autofill:hover,input:-webkit-autofill:focus,input:-webkit-autofill:active{-webkit-box-shadow:0 0 0 30px white inset!important;-webkit-text-fill-color:var(--color-primary)!important;}input::placeholder{color:var(--color-primary);opacity:0.5;}button{display:inline-block;padding:10px 15px;font-size:14px;border-radius:0;border:1px solid var(--color-primary);color:var(--color-primary);background-color:white;@media (max-width: 768px){margin-top:10px;}}button:hover{cursor:pointer;background-color:var(--color-primary);color:white;}"}),j=m("br",{target:"e1ydztoe0"})({name:"eqo6ts",styles:"display:none;@media (max-width: 768px) and (orientation: portrait){display:inline;}"}),F=function(e){function t(){var t;return(t=e.call(this)||this)._handleSubmit=function(){var e=(0,N.Z)(D().mark((function e(r){var n;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),e.next=3,(0,U.Z)(t.state.email);case 3:n=e.sent,t.setState({result:n}),t.state.value&&(t.setState({text:"THANK YOU"}),t.setState({placeholder:"YOUR EMAIL IS APPRECIATED"})),t.setState({email:""}),t.setState({value:""});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.handleChange=function(e){t.setState({value:e.target.value}),t.setState({email:e.target.value})},t.state={email:"",result:null,text:"LEARN MORE",value:"",placeholder:"EMAIL"},t}return(0,g.Z)(t,e),t.prototype.render=function(){var e=this.state.text;return(0,E.tZ)(H,null,(0,E.tZ)("form",{onSubmit:this._handleSubmit},(0,E.tZ)("input",{id:"outlined-email-input",label:"Email",type:"email",name:"email",placeholder:this.state.placeholder,value:this.state.value,onChange:this.handleChange}),(0,E.tZ)(j,null),(0,E.tZ)("button",{className:"sansFont",label:"Submit",type:"submit"},e)))},t}(o.Component);var G=m("div",{target:"ezdbxc22"})({name:"1k377eu",styles:"display:flex;width:100vw;height:100%;justify-content:center;align-items:center;flex-direction:column;background-color:none"}),z=m("h1",{target:"ezdbxc21"})({name:"i8s2kg",styles:"position:absolute;left:50%;font-size:14px;transform:translateX(-50%);top:12px;text-transform:uppercase"}),B=m("div",{target:"ezdbxc20"})({name:"li4nqv",styles:"width:calc(100% - 75px);height:calc(100% - 75px);border:1px solid var(--color-primary);display:flex;justify-content:flex-end;@media (max-width: 768px){justify-content:center;}"}),Z=function(e){return(0,E.tZ)(P,null,(0,E.tZ)(G,null,(0,E.tZ)(z,{className:"sansFont primaryColor"},e.title),(0,E.tZ)(A,null),(0,E.tZ)(F,null),(0,E.tZ)(B,null,(0,E.tZ)(L,{text:"?"}))))}},5666:function(e){var t=function(e){"use strict";var t,r=Object.prototype,n=r.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(P){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof g?t:g,a=Object.create(o.prototype),i=new M(n||[]);return a._invoke=function(e,t,r){var n=p;return function(o,a){if(n===h)throw new Error("Generator is already running");if(n===f){if("throw"===o)throw a;return O()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var s=R(i,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=f,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=h;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?f:d,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=f,r.method="throw",r.arg=c.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(P){return{type:"throw",arg:P}}}e.wrap=u;var p="suspendedStart",d="suspendedYield",h="executing",f="completed",m={};function g(){}function v(){}function y(){}var b={};b[a]=function(){return this};var w=Object.getPrototypeOf,x=w&&w(w(S([])));x&&x!==r&&n.call(x,a)&&(b=x);var T=y.prototype=g.prototype=Object.create(b);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function A(e,t){function r(o,a,i,s){var c=l(e[o],e,a);if("throw"!==c.type){var u=c.arg,p=u.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){r("next",e,i,s)}),(function(e){r("throw",e,i,s)})):t.resolve(p).then((function(e){u.value=e,i(u)}),(function(e){return r("throw",e,i,s)}))}s(c.arg)}var o;this._invoke=function(e,n){function a(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(a,a):a()}}function R(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,R(e,r),"throw"===r.method))return m;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=l(n,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,m;var a=o.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,m):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,m)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function S(e){if(e){var r=e[a];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function r(){for(;++o<e.length;)if(n.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return i.next=i}}return{next:O}}function O(){return{value:t,done:!0}}return v.prototype=T.constructor=y,y.constructor=v,v.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(T),e},e.awrap=function(e){return{__await:e}},E(A.prototype),A.prototype[i]=function(){return this},e.AsyncIterator=A,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new A(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},E(T),c(T,s,"Generator"),T[a]=function(){return this},T.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=S,M.prototype={constructor:M,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function o(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),L(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;L(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:S(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),m}},e}(e.exports);try{regeneratorRuntime=t}catch(r){Function("r","regeneratorRuntime = r")(t)}}}]);
//# sourceMappingURL=commons-ed26d08d203012e3852c.js.map